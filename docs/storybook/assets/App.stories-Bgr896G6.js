import{j as g}from"./jsx-runtime-D_zvdyIk.js";import{r as n}from"./iframe-D4hbvkVB.js";import{F as Ke}from"./FlatsStatsPanel-DXDSnzRb.js";import{M as Oe,g as Ne}from"./MetroStationAutocomplete-C-1bc-1n.js";import{F as Re}from"./FlatsList-Bq98F-T6.js";import{w as He,x as Ge,D as qe,G as Ue,T as I,q as we,y as Ye,n as ze}from"./createSimplePaletteValueFilter-Ccc1faLV.js";import{R as Be,b as Qe}from"./mergeSlotProps-DnV3t0J5.js";import"./Select-C6Ad4C3F.js";import"./useSlot-wJBaZNqD.js";import"./Portal-CsH-Yoge.js";import"./index-Cj2LNWL0.js";import"./index-CwJXFEVm.js";import"./Paper-BWRL5p_w.js";import"./HistogramOptions-Dlv181sO.js";import"./FlatsScatter-B-GKaOYX.js";import"./ChartsToolbar-9axDz2a5.js";import"./Typography-BNuN9QES.js";import"./Popper-BEPXqgZR.js";import"./FlatsHistogram-DOE44-RK.js";import"./FlatCard-DIqj8DK8.js";const $e=n.createContext(null);function W(){return n.useContext($e)}const Je=typeof Symbol=="function"&&Symbol.for,Xe=Je?Symbol.for("mui.nested"):"__THEME_NESTED__";function Ze(e,t){return typeof t=="function"?t(e):{...e,...t}}function We(e){const{children:t,theme:o}=e,r=W(),y=n.useMemo(()=>{const h=r===null?{...o}:Ze(r,o);return h!=null&&(h[Xe]=r!==null),h},[o,r]);return g.jsx($e.Provider,{value:y,children:t})}const xe={};function be(e,t,o,r=!1){return n.useMemo(()=>{const y=e&&t[e]||t;if(typeof o=="function"){const h=o(y),s=e?{...t,[e]:h}:h;return r?()=>s:s}return e?{...t,[e]:o}:{...t,...o}},[e,t,o,r])}function ve(e){const{children:t,theme:o,themeId:r}=e,y=He(xe),h=W()||xe,s=be(r,y,o),u=be(r,h,o,!0),p=(r?s[r]:s).direction==="rtl";return g.jsx(We,{theme:u,children:g.jsx(Ge.Provider,{value:s,children:g.jsx(Be,{value:p,children:g.jsx(qe,{value:r?s[r].components:s.components,children:t})})})})}const ee="mode",te="color-scheme",et="data-color-scheme";function tt(e){const{defaultMode:t="system",defaultLightColorScheme:o="light",defaultDarkColorScheme:r="dark",modeStorageKey:y=ee,colorSchemeStorageKey:h=te,attribute:s=et,colorSchemeNode:u="document.documentElement",nonce:p}=e||{};let b="",a=s;if(s==="class"&&(a=".%s"),s==="data"&&(a="[data-%s]"),a.startsWith(".")){const d=a.substring(1);b+=`${u}.classList.remove('${d}'.replace('%s', light), '${d}'.replace('%s', dark));
      ${u}.classList.add('${d}'.replace('%s', colorScheme));`}const x=a.match(/\[([^\]]+)\]/);if(x){const[d,m]=x[1].split("=");m||(b+=`${u}.removeAttribute('${d}'.replace('%s', light));
      ${u}.removeAttribute('${d}'.replace('%s', dark));`),b+=`
      ${u}.setAttribute('${d}'.replace('%s', colorScheme), ${m?`${m}.replace('%s', colorScheme)`:'""'});`}else b+=`${u}.setAttribute('${a}', colorScheme);`;return g.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?p:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${y}') || '${t}';
  const dark = localStorage.getItem('${h}-dark') || '${r}';
  const light = localStorage.getItem('${h}-light') || '${o}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${b}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function ot(){}const rt=({key:e,storageWindow:t})=>(!t&&typeof window<"u"&&(t=window),{get(o){if(typeof window>"u")return;if(!t)return o;let r;try{r=t.localStorage.getItem(e)}catch{}return r||o},set:o=>{if(t)try{t.localStorage.setItem(e,o)}catch{}},subscribe:o=>{if(!t)return ot;const r=y=>{const h=y.newValue;y.key===e&&o(h)};return t.addEventListener("storage",r),()=>{t.removeEventListener("storage",r)}}});function Z(){}function Me(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function je(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function st(e){return je(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function nt(e){const{defaultMode:t="light",defaultLightColorScheme:o,defaultDarkColorScheme:r,supportedColorSchemes:y=[],modeStorageKey:h=ee,colorSchemeStorageKey:s=te,storageWindow:u=typeof window>"u"?void 0:window,storageManager:p=rt,noSsr:b=!1}=e,a=y.join(","),x=y.length>1,d=n.useMemo(()=>p==null?void 0:p({key:h,storageWindow:u}),[p,h,u]),m=n.useMemo(()=>p==null?void 0:p({key:`${s}-light`,storageWindow:u}),[p,s,u]),C=n.useMemo(()=>p==null?void 0:p({key:`${s}-dark`,storageWindow:u}),[p,s,u]),[$,D]=n.useState(()=>{const c=(d==null?void 0:d.get(t))||t,i=(m==null?void 0:m.get(o))||o,l=(C==null?void 0:C.get(r))||r;return{mode:c,systemMode:Me(c),lightColorScheme:i,darkColorScheme:l}}),[j,U]=n.useState(b||!x);n.useEffect(()=>{U(!0)},[]);const F=st($),V=n.useCallback(c=>{D(i=>{if(c===i.mode)return i;const l=c??t;return d==null||d.set(l),{...i,mode:l,systemMode:Me(l)}})},[d,t]),A=n.useCallback(c=>{c?typeof c=="string"?c&&!a.includes(c)?console.error(`\`${c}\` does not exist in \`theme.colorSchemes\`.`):D(i=>{const l={...i};return je(i,f=>{f==="light"&&(m==null||m.set(c),l.lightColorScheme=c),f==="dark"&&(C==null||C.set(c),l.darkColorScheme=c)}),l}):D(i=>{const l={...i},f=c.light===null?o:c.light,_=c.dark===null?r:c.dark;return f&&(a.includes(f)?(l.lightColorScheme=f,m==null||m.set(f)):console.error(`\`${f}\` does not exist in \`theme.colorSchemes\`.`)),_&&(a.includes(_)?(l.darkColorScheme=_,C==null||C.set(_)):console.error(`\`${_}\` does not exist in \`theme.colorSchemes\`.`)),l}):D(i=>(m==null||m.set(o),C==null||C.set(r),{...i,lightColorScheme:o,darkColorScheme:r}))},[a,m,C,o,r]),K=n.useCallback(c=>{$.mode==="system"&&D(i=>{const l=c!=null&&c.matches?"dark":"light";return i.systemMode===l?i:{...i,systemMode:l}})},[$.mode]),H=n.useRef(K);return H.current=K,n.useEffect(()=>{if(typeof window.matchMedia!="function"||!x)return;const c=(...l)=>H.current(...l),i=window.matchMedia("(prefers-color-scheme: dark)");return i.addListener(c),c(i),()=>{i.removeListener(c)}},[x]),n.useEffect(()=>{if(x){const c=(d==null?void 0:d.subscribe(f=>{(!f||["light","dark","system"].includes(f))&&V(f||t)}))||Z,i=(m==null?void 0:m.subscribe(f=>{(!f||a.match(f))&&A({light:f})}))||Z,l=(C==null?void 0:C.subscribe(f=>{(!f||a.match(f))&&A({dark:f})}))||Z;return()=>{c(),i(),l()}}},[A,V,a,t,u,x,d,m,C]),{...$,mode:j?$.mode:void 0,systemMode:j?$.systemMode:void 0,colorScheme:j?F:void 0,setMode:V,setColorScheme:A}}const ct="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function it(e){const{themeId:t,theme:o={},modeStorageKey:r=ee,colorSchemeStorageKey:y=te,disableTransitionOnChange:h=!1,defaultColorScheme:s,resolveTheme:u}=e,p={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},b=n.createContext(void 0),a=()=>n.useContext(b)||p,x={},d={};function m(j){var pe,ye,Ce,ge;const{children:U,theme:F,modeStorageKey:V=r,colorSchemeStorageKey:A=y,disableTransitionOnChange:K=h,storageManager:H,storageWindow:c=typeof window>"u"?void 0:window,documentNode:i=typeof document>"u"?void 0:document,colorSchemeNode:l=typeof document>"u"?void 0:document.documentElement,disableNestedContext:f=!1,disableStyleSheetGeneration:_=!1,defaultMode:_e="system",forceThemeRerender:Le=!1,noSsr:De}=j,Y=n.useRef(!1),z=W(),B=n.useContext(b),Q=!!B&&!f,re=n.useMemo(()=>F||(typeof o=="function"?o():o),[F]),se=re[t],M=se||re,{colorSchemes:v=x,components:ne=d,cssVarPrefix:J}=M,ce=Object.keys(v).filter(k=>!!v[k]).join(","),P=n.useMemo(()=>ce.split(","),[ce]),ie=typeof s=="string"?s:s.light,le=typeof s=="string"?s:s.dark,Ae=v[ie]&&v[le]?_e:((ye=(pe=v[M.defaultColorScheme])==null?void 0:pe.palette)==null?void 0:ye.mode)||((Ce=M.palette)==null?void 0:Ce.mode),{mode:Pe,setMode:ae,systemMode:de,lightColorScheme:me,darkColorScheme:ue,colorScheme:Ie,setColorScheme:fe}=nt({supportedColorSchemes:P,defaultLightColorScheme:ie,defaultDarkColorScheme:le,modeStorageKey:V,colorSchemeStorageKey:A,defaultMode:Ae,storageManager:H,storageWindow:c,noSsr:De});let X=Pe,T=Ie;Q&&(X=B.mode,T=B.colorScheme);let G=T||M.defaultColorScheme;M.vars&&!Le&&(G=M.defaultColorScheme);const O=n.useMemo(()=>{var L;const k=((L=M.generateThemeVars)==null?void 0:L.call(M))||M.vars,S={...M,components:ne,colorSchemes:v,cssVarPrefix:J,vars:k};if(typeof S.generateSpacing=="function"&&(S.spacing=S.generateSpacing()),G){const w=v[G];w&&typeof w=="object"&&Object.keys(w).forEach(E=>{w[E]&&typeof w[E]=="object"?S[E]={...S[E],...w[E]}:S[E]=w[E]})}return u?u(S):S},[M,G,ne,v,J]),N=M.colorSchemeSelector;Qe(()=>{if(T&&l&&N&&N!=="media"){const k=N;let S=N;if(k==="class"&&(S=".%s"),k==="data"&&(S="[data-%s]"),k!=null&&k.startsWith("data-")&&!k.includes("%s")&&(S=`[${k}="%s"]`),S.startsWith("."))l.classList.remove(...P.map(L=>S.substring(1).replace("%s",L))),l.classList.add(S.substring(1).replace("%s",T));else{const L=S.replace("%s",T).match(/\[([^\]]+)\]/);if(L){const[w,E]=L[1].split("=");E||P.forEach(Ve=>{l.removeAttribute(w.replace(T,Ve))}),l.setAttribute(w,E?E.replace(/"|'/g,""):"")}else l.setAttribute(S,T)}}},[T,N,l,P]),n.useEffect(()=>{let k;if(K&&Y.current&&i){const S=i.createElement("style");S.appendChild(i.createTextNode(ct)),i.head.appendChild(S),window.getComputedStyle(i.body),k=setTimeout(()=>{i.head.removeChild(S)},1)}return()=>{clearTimeout(k)}},[T,K,i]),n.useEffect(()=>(Y.current=!0,()=>{Y.current=!1}),[]);const Fe=n.useMemo(()=>({allColorSchemes:P,colorScheme:T,darkColorScheme:ue,lightColorScheme:me,mode:X,setColorScheme:fe,setMode:ae,systemMode:de}),[P,T,ue,me,X,fe,ae,de,O.colorSchemeSelector]);let he=!0;(_||M.cssVariables===!1||Q&&(z==null?void 0:z.cssVarPrefix)===J)&&(he=!1);const Se=g.jsxs(n.Fragment,{children:[g.jsx(ve,{themeId:se?t:void 0,theme:O,children:U}),he&&g.jsx(Ue,{styles:((ge=O.generateStyleSheets)==null?void 0:ge.call(O))||[]})]});return Q?Se:g.jsx(b.Provider,{value:Fe,children:Se})}const C=typeof s=="string"?s:s.light,$=typeof s=="string"?s:s.dark;return{CssVarsProvider:m,useColorScheme:a,getInitColorSchemeScript:j=>tt({colorSchemeStorageKey:y,defaultLightColorScheme:C,defaultDarkColorScheme:$,modeStorageKey:r,...j})}}function lt({theme:e,...t}){const o=I in e?e[I]:void 0;return g.jsx(ve,{...t,themeId:o?I:void 0,theme:o||e})}const q={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:at}=it({themeId:I,theme:()=>we({cssVariables:!0}),colorSchemeStorageKey:q.colorSchemeStorageKey,modeStorageKey:q.modeStorageKey,defaultColorScheme:{light:q.defaultLightColorScheme,dark:q.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:Ye(e.palette,e.typography)};return t.unstable_sx=function(r){return ze({sx:r,theme:this})},t}}),dt=at;function mt({theme:e,...t}){const o=n.useMemo(()=>{if(typeof e=="function")return e;const r=I in e?e[I]:e;return"colorSchemes"in r?null:"vars"in r?e:{...e,vars:null}},[e]);return o?g.jsx(lt,{theme:o,...t}):g.jsx(dt,{theme:e,...t})}const ut=we({typography:{fontFamily:'"Montserrat", sans-serif'}});function oe(){const[e,t]=n.useState([]),[o,r]=n.useState([]),[y,h]=n.useState(1),[s,u]=n.useState({current_page:1,pages:1,total:0}),p=async(a=1)=>{console.log(a);try{const x=await Ne(e.map(d=>d.stationId),a,12);r(x.data||[]),u(x.pagination||{}),h(a)}catch(x){console.error("Ошибка загрузки квартир:",x)}};n.useEffect(()=>{p(y)},[e,y]);const b=a=>{h(a),u({...s,current_page:a})};return g.jsx(mt,{theme:ut,children:g.jsxs("div",{style:{width:"1124px",margin:"0 auto",minHeight:"100vh",boxSizing:"border-box",padding:"50px",backgroundColor:"#f5f5f5",display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},children:[g.jsx(Oe,{setSelectedStations:a=>{t(a),b(1)},selectedStations:e}),g.jsx(Ke,{paginationData:s,filteredFlats:o}),g.jsx(Re,{flats:o,pagination:s,onPageChange:b})]})})}oe.__docgenInfo={description:`Основной компонент приложения для отображения списка квартир\r
с возможностью фильтрации по станциям метро и пагинацией`,methods:[],displayName:"App"};const At={title:"Components/App",component:oe,parameters:{docs:{description:{component:`
Основной компонент приложения для отображения и фильтрации квартир.
Включает:
- Фильтр по станциям метро
- Панель статистики
- Список квартир с пагинацией
        `}}}},R=()=>g.jsx(oe,{});R.__docgenInfo={description:"",methods:[],displayName:"Default"};var ke,Te,Ee;R.parameters={...R.parameters,docs:{...(ke=R.parameters)==null?void 0:ke.docs,source:{originalSource:"() => <App />",...(Ee=(Te=R.parameters)==null?void 0:Te.docs)==null?void 0:Ee.source}}};const Pt=["Default"];export{R as Default,Pt as __namedExportsOrder,At as default};
